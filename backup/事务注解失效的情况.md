TODO
threadlocal来实现
编程式事务能解决大部分问题